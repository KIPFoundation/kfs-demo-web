{"ast":null,"code":"import _classCallCheck from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vsp/Desktop/Work/kfs-demo-web/src/App.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Input, Message, Grid, TextArea, Radio } from 'semantic-ui-react'; // import logo from './logo.svg';\n\nimport './App.css';\nimport web3 from './ethereum/web3.js';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.handleDismiss = function () {\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.sendRequest = function () {\n      // axios.get('//204.48.21.88:3000/create?mime=data:text/plain&content=base64,TWFuIGlzIGRpc3Rpbmd1aXNoZWQsIG5vdCBvbmx5IGJ5IGhpcyByZWFzb24sIGJ1dCBieSB0aGlzIHNpbmd1bGFyIHBhc3Npb24gZnJvbSBvdGhlciBhbmltYWxzLCB3aGljaCBpcyBhIGx1c3Qgb2YgdGhlIG1pbmQsIHRoYXQgYnkgYSBwZXJzZXZlcmFuY2Ugb2YgZGVsaWdodCBpbiB0aGUgY29udGludWVkIGFuZCBpbmRlZmF0aWdhYmxlIGdlbmVyYXRpb24gb2Yga25vd2xlZGdlLCBleGNlZWRzIHRoZSBzaG9ydCB2ZWhlbWVuY2Ugb2YgYW55IGNhcm5hbCBwbGVhc3VyZS4=\n      //&senderPub=MHg3MTExRmVBOGVEZUZhMTEzMTFGMDA2QkI1Y0UxQTA0Yzg4OTg2OEE4&reciPub=MHhjYTg0MzU2OWUzNDI3MTQ0Y2VhZDVlNGQ1OTk5YTNkMGNjZjkyYjhl')\n      // .then(function (response) {\n      //   console.log(response);\n      // })\n      // .catch(function (error) {\n      //   console.log(error);\n      // });\n      if (_this.state.mime !== '' && _this.state.base64content !== '' && _this.state.uploadedFile === '') {\n        console.log(window.btoa(_this.state.sender));\n        console.log(window.btoa(_this.state.receipent));\n        console.log(window.btoa(_this.state.mime));\n        console.log(window.btoa(_this.state.base64content));\n        axios.get('//204.48.21.88:3000/create?mime=' + _this.state.mime + '&content=base64,' + _this.state.base64content + '&senderPub=' + window.btoa(_this.state.sender) + '&reciPub=' + window.btoa(_this.state.receipent)).then(function (response) {\n          console.log(response);\n\n          _this.setState({\n            hashMessage: response.data,\n            visible: true\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else if (_this.state.mime === '' && _this.state.base64content === '' && _this.state.uploadedFile !== '') {\n        axios.get('//204.48.21.88:3000/create?path=' + _this.state.file + '&senderPub=' + window.btoa(_this.state.sender) + '&reciPub=' + window.btoa(_this.state.receipent)).then(function (response) {\n          console.log(response);\n\n          _this.setState({\n            hashMessage: response.data,\n            visible: true\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    };\n\n    _this.state = {\n      sender: '',\n      receipent: '',\n      private: '',\n      base64content: '',\n      authErrorMessage: '',\n      errorMessage: '',\n      checked: false,\n      mime: '',\n      uploadedFile: '',\n      hashMessage: '',\n      visible: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      web3.eth.getAccounts().then(function (accounts, err) {\n        _this2.setState({\n          sender: accounts[0]\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Home\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/about\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"About\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/topics\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Topics\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: React.createElement(\"home\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/about\",\n        component: React.createElement(\"senderView\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/topics\",\n        component: React.createElement(\"receiverView\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/vsp/Desktop/Work/kfs-demo-web/src/App.js"],"names":["React","Component","Button","Form","Input","Message","Grid","TextArea","Radio","web3","axios","BrowserRouter","Router","Route","Link","App","props","handleDismiss","setState","visible","sendRequest","state","mime","base64content","uploadedFile","console","log","window","btoa","sender","receipent","get","then","response","hashMessage","data","catch","error","file","private","authErrorMessage","errorMessage","checked","eth","getAccounts","accounts","err"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, Input, Message, Grid , TextArea, Radio } from 'semantic-ui-react';\n// import logo from './logo.svg';\nimport './App.css';\nimport web3 from './ethereum/web3.js';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nclass App extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      sender: '',\n      receipent:'',\n      private: '',\n      base64content: '',\n      authErrorMessage: '',\n      errorMessage: '',\n      checked:false,\n      mime:'',\n      uploadedFile:'',\n      hashMessage:'',\n      visible: false \n    }\n  }\n\n  componentDidMount(){\n    web3.eth.getAccounts().then((accounts, err) => {\n      this.setState({sender: accounts[0]});\n    \n    });\n  }\n\n  handleDismiss = () => {\n    this.setState({ visible: false });\n  }\n\n  sendRequest = () => {\n    // axios.get('//204.48.21.88:3000/create?mime=data:text/plain&content=base64,TWFuIGlzIGRpc3Rpbmd1aXNoZWQsIG5vdCBvbmx5IGJ5IGhpcyByZWFzb24sIGJ1dCBieSB0aGlzIHNpbmd1bGFyIHBhc3Npb24gZnJvbSBvdGhlciBhbmltYWxzLCB3aGljaCBpcyBhIGx1c3Qgb2YgdGhlIG1pbmQsIHRoYXQgYnkgYSBwZXJzZXZlcmFuY2Ugb2YgZGVsaWdodCBpbiB0aGUgY29udGludWVkIGFuZCBpbmRlZmF0aWdhYmxlIGdlbmVyYXRpb24gb2Yga25vd2xlZGdlLCBleGNlZWRzIHRoZSBzaG9ydCB2ZWhlbWVuY2Ugb2YgYW55IGNhcm5hbCBwbGVhc3VyZS4=\n    //&senderPub=MHg3MTExRmVBOGVEZUZhMTEzMTFGMDA2QkI1Y0UxQTA0Yzg4OTg2OEE4&reciPub=MHhjYTg0MzU2OWUzNDI3MTQ0Y2VhZDVlNGQ1OTk5YTNkMGNjZjkyYjhl')\n    // .then(function (response) {\n    //   console.log(response);\n    // })\n    // .catch(function (error) {\n    //   console.log(error);\n    // });\n    if(this.state.mime !=='' && this.state.base64content!=='' && this.state.uploadedFile==='') {\n      console.log(window.btoa(this.state.sender));\n      console.log(window.btoa(this.state.receipent));\n      console.log(window.btoa(this.state.mime));\n      console.log(window.btoa(this.state.base64content));\n      axios.get('//204.48.21.88:3000/create?mime='+this.state.mime+'&content=base64,'+this.state.base64content+'&senderPub='\n      +window.btoa(this.state.sender)+'&reciPub='+window.btoa(this.state.receipent))\n      .then( response => {\n        console.log(response);\n        this.setState({hashMessage:response.data,visible:true})\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n    else if(this.state.mime ==='' && this.state.base64content==='' && this.state.uploadedFile!=='') {\n      axios.get('//204.48.21.88:3000/create?path='+this.state.file+'&senderPub='\n      +window.btoa(this.state.sender)+'&reciPub='+window.btoa(this.state.receipent))\n      .then(response => {\n        console.log(response);\n        this.setState({hashMessage:response.data,visible:true})\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n  render() {\n    return (\n      <Router>\n        <div>\n          <ul>\n            <li>\n              <Link to=\"/\">Home</Link>\n            </li>\n            <li>\n              <Link to=\"/about\">About</Link>\n            </li>\n            <li>\n              <Link to=\"/topics\">Topics</Link>\n            </li>\n          </ul>\n  \n          <hr />\n  \n          <Route exact path=\"/\" component={<home />} />\n          <Route path=\"/about\" component={<senderView />} />\n          <Route path=\"/topics\" component={<receiverView />} />\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}