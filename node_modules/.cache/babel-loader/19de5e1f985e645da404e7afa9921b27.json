{"ast":null,"code":"import _classCallCheck from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vsp/Desktop/Work/kfs-demo-web/src/receiverView.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Input, Message, Grid, TextArea, Radio } from 'semantic-ui-react'; // import logo from './logo.svg';\n\nimport './App.css';\nimport web3 from './ethereum/web3.js';\nimport axios from 'axios';\n\nvar ReceiverView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReceiverView, _Component);\n\n  function ReceiverView(props) {\n    var _this;\n\n    _classCallCheck(this, ReceiverView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReceiverView).call(this, props));\n\n    _this.handleDismiss = function () {\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.getContent = function () {\n      axios.get('//204.48.21.88:3000/read/' + _this.state.hashMessage + '?senderPub=' + window.btoa(_this.state.sender)).then(function (response) {\n        console.log(response);\n\n        _this.setState({\n          realContent: response.data,\n          visible: true\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      sender: '',\n      hashMessage: '',\n      realContent: '',\n      visible: false\n    };\n    return _this;\n  }\n\n  _createClass(ReceiverView, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      web3.eth.getAccounts().then(function (accounts, err) {\n        _this2.setState({\n          sender: accounts[0]\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        width: 16,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        error: !!this.state.errorMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Enter Sender's address\"), React.createElement(Input, {\n        style: {\n          width: \"100%\"\n        },\n        size: \"large\",\n        value: this.state.sender,\n        onChange: function onChange(event) {\n          return _this3.setState({\n            sender: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Enter KFS file id\"), React.createElement(Input, {\n        style: {\n          width: \"100%\"\n        },\n        size: \"large\",\n        value: this.state.hashMessage,\n        onChange: function onChange(event) {\n          return _this3.setState({\n            hashMessage: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), this.state.visible ? React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Message, {\n        positive: true,\n        onDismiss: this.handleDismiss,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Message.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Actual Content\"), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, this.state.realContent))) : '', React.createElement(Message, {\n        error: true,\n        header: \"Oops!\",\n        hidden: true,\n        onDismiss: this.errorMessageDismiss,\n        content: this.state.errorMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(Button, {\n        loading: this.state.submitButton,\n        onClick: this.getContent,\n        primary: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Submit\")))))));\n    }\n  }]);\n\n  return ReceiverView;\n}(Component);\n\nexport default ReceiverView;","map":{"version":3,"sources":["/Users/vsp/Desktop/Work/kfs-demo-web/src/receiverView.js"],"names":["React","Component","Button","Form","Input","Message","Grid","TextArea","Radio","web3","axios","ReceiverView","props","handleDismiss","setState","visible","getContent","get","state","hashMessage","window","btoa","sender","then","response","console","log","realContent","data","catch","error","eth","getAccounts","accounts","err","onSubmit","errorMessage","width","event","target","value","errorMessageDismiss","submitButton"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, Input, Message, Grid , TextArea, Radio } from 'semantic-ui-react';\n// import logo from './logo.svg';\nimport './App.css';\nimport web3 from './ethereum/web3.js';\nimport axios from 'axios';\n\nclass ReceiverView extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      sender: '',\n      hashMessage:'',\n      realContent:'',\n      visible:false\n    }\n  }\n\n  componentDidMount(){\n    web3.eth.getAccounts().then((accounts, err) => {\n      this.setState({sender: accounts[0]});\n    \n    });\n  }\n\n  handleDismiss = () => {\n    this.setState({ visible: false });\n  }\n\n  getContent = () => {\n      axios.get('//204.48.21.88:3000/read/'+this.state.hashMessage+'?senderPub='+window.btoa(this.state.sender))\n      .then( response => {\n        console.log(response);\n        this.setState({realContent:response.data,visible:true})\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n            <Grid>\n              <Grid.Row>\n                <Grid.Column width={16}>\n                  <Form onSubmit={this.onSubmit} error={!!this.state.errorMessage}>\n                  <Form.Field>\n                    <h4>Enter Sender's address</h4>\n                    <Input style={{ width: \"100%\" }} size=\"large\"\n                    value={this.state.sender}\n                    onChange={event => this.setState({ sender: event.target.value})}\n                    />\n                  </Form.Field>\n                  <Form.Field>\n                    <h4>Enter KFS file id</h4>\n                    <Input style={{ width: \"100%\" }} size=\"large\"\n                    value={this.state.hashMessage}\n                    onChange={event => this.setState({ hashMessage: event.target.value})}\n                    />\n                  </Form.Field>\n                  { this.state.visible ? \n                    <Form.Field>\n                      <Message positive\n                      onDismiss={this.handleDismiss}>\n                      <Message.Header>Actual Content</Message.Header>\n                      <b>\n                      {this.state.realContent} \n                      </b>\n                    </Message>\n                    </Form.Field>\n                  : ''}\n                  <Message error header=\"Oops!\" hidden={true} onDismiss={this.errorMessageDismiss} content={this.state.errorMessage} />\n                  <br/><Button loading={this.state.submitButton}  onClick={this.getContent} primary>Submit</Button>\n                </Form>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default ReceiverView;\n"]},"metadata":{},"sourceType":"module"}