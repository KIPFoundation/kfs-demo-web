{"ast":null,"code":"import _classCallCheck from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vsp/Desktop/Work/kfs-demo-web/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vsp/Desktop/Work/kfs-demo-web/src/senderView.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Input, Message, Grid, TextArea, Radio, Dropdown } from 'semantic-ui-react'; // import logo from './logo.svg';\n\nimport './App.css';\nimport web3 from './ethereum/web3.js';\nimport axios from 'axios';\n\nvar SenderView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SenderView, _Component);\n\n  function SenderView(props) {\n    var _this;\n\n    _classCallCheck(this, SenderView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SenderView).call(this, props));\n\n    _this.handleDismiss = function () {\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.sendRequest = function () {\n      // axios.get('//204.48.21.88:3000/create?mime=data:text/plain&content=base64,TWFuIGlzIGRpc3Rpbmd1aXNoZWQsIG5vdCBvbmx5IGJ5IGhpcyByZWFzb24sIGJ1dCBieSB0aGlzIHNpbmd1bGFyIHBhc3Npb24gZnJvbSBvdGhlciBhbmltYWxzLCB3aGljaCBpcyBhIGx1c3Qgb2YgdGhlIG1pbmQsIHRoYXQgYnkgYSBwZXJzZXZlcmFuY2Ugb2YgZGVsaWdodCBpbiB0aGUgY29udGludWVkIGFuZCBpbmRlZmF0aWdhYmxlIGdlbmVyYXRpb24gb2Yga25vd2xlZGdlLCBleGNlZWRzIHRoZSBzaG9ydCB2ZWhlbWVuY2Ugb2YgYW55IGNhcm5hbCBwbGVhc3VyZS4=\n      //&senderPub=MHg3MTExRmVBOGVEZUZhMTEzMTFGMDA2QkI1Y0UxQTA0Yzg4OTg2OEE4&reciPub=MHhjYTg0MzU2OWUzNDI3MTQ0Y2VhZDVlNGQ1OTk5YTNkMGNjZjkyYjhl')\n      // .then(function (response) {\n      //   console.log(response);\n      // })\n      // .catch(function (error) {\n      //   console.log(error);\n      // });\n      console.log(window.btoa(_this.state.sender));\n      console.log(window.btoa(_this.state.receipent));\n      console.log(_this.state.mimeType);\n      console.log(_this.state.base64content);\n      console.log(_this.state.uploadedFile);\n\n      if (_this.state.mime !== '' && _this.state.base64content !== '' && _this.state.uploadedFile === '') {\n        var url1 = 'http://204.48.21.88:3000/create?mime=' + _this.state.mimeType + '&content=base64,' + _this.state.base64content + '&senderPub=' + window.btoa(_this.state.sender.toLowerCase()) + '&reciPub=' + window.btoa(_this.state.receipent.toLowerCase());\n        var url = 'http://204.48.21.88:3000/create?mime=data:text/plain&content=base64,aGVsbG8=&senderPub=MHg4YzA1OWUyMzg5MGFkNmUyYTQyM2ZiNTIzNTk1NmUxN2M3YzkyZDdm&reciPub=MHg0ODg3YmU5ZjUyZWZlNzdmMTU4MjEwNzU3NjE1M2RkMzMwNzE2ODlj';\n        console.log(url1);\n        axios.get(url1).then(function (response) {\n          console.log(response);\n\n          _this.setState({\n            hashMessage: response.data,\n            visible: true\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        console.log('coming');\n        axios.get('//204.48.21.88:3000/create?path=' + _this.state.uploadedFile + '&senderPub=' + window.btoa(_this.state.sender.toLowerCase()) + '&reciPub=' + window.btoa(_this.state.receipent.toLowerCase())).then(function (response) {\n          console.log(response);\n\n          _this.setState({\n            hashMessage: response.data,\n            visible: true\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    };\n\n    _this.state = {\n      sender: '',\n      receipent: '',\n      private: '',\n      base64content: '',\n      authErrorMessage: '',\n      errorMessage: '',\n      checked: false,\n      mimeType: '',\n      uploadedFile: '',\n      hashMessage: '',\n      visible: false\n    };\n    return _this;\n  }\n\n  _createClass(SenderView, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      web3.eth.getAccounts().then(function (accounts, err) {\n        _this2.setState({\n          sender: accounts[0]\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var mimes = ['text/plain', 'text/html', 'image/jpeg', 'image/png'];\n      var mimeOptions = mimes.map(function (mime, index) {\n        return {\n          key: \"mime\" + index,\n          value: \"data:\" + mime,\n          text: mime\n        };\n      });\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        width: 16,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        error: !!this.state.errorMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Your address\"), React.createElement(Input, {\n        disabled: true,\n        size: \"large\",\n        style: {\n          width: \"100%\"\n        },\n        value: this.state.sender,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Enter Receipent's address\"), React.createElement(Input, {\n        style: {\n          width: \"100%\"\n        },\n        size: \"large\",\n        value: this.state.receipent,\n        onChange: function onChange(event) {\n          return _this3.setState({\n            receipent: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Radio, {\n        toggle: true,\n        label: this.state.checked ? 'Would like to send a file' : 'Would like to send base64 content',\n        onClick: function onClick() {\n          return _this3.setState({\n            checked: !_this3.state.checked\n          });\n        },\n        checked: this.state.checked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Select content's mime here\"), React.createElement(Dropdown, {\n        placeholder: \"Select Mime type\",\n        onChange: function onChange(e, data) {\n          return _this3.setState({\n            mimeType: data.value\n          });\n        },\n        fluid: true,\n        search: true,\n        selection: true,\n        options: mimeOptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Enter base64 content here\"), React.createElement(TextArea, {\n        placeholder: \"Base64 content \",\n        value: this.state.base64content,\n        onChange: function onChange(event) {\n          return _this3.setState({\n            base64content: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"upload-btn-wrapper\",\n        style: {\n          fontSize: ''\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Upload a file\"), React.createElement(\"input\", {\n        type: \"file\",\n        name: \"myfile\",\n        onChange: function onChange(event) {\n          return _this3.setState({\n            uploadedFile: event.target.files[0]\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      })), this.state.visible ? React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Message, {\n        positive: true,\n        onDismiss: this.handleDismiss,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(Message.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Kfs File Id\"), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, this.state.hashMessage))) : '', React.createElement(Message, {\n        error: true,\n        header: \"Oops!\",\n        hidden: true,\n        onDismiss: this.errorMessageDismiss,\n        content: this.state.errorMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }), React.createElement(Button, {\n        loading: this.state.submitButton,\n        onClick: this.sendRequest,\n        primary: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Submit\")))))));\n    }\n  }]);\n\n  return SenderView;\n}(Component);\n\nexport default SenderView;","map":{"version":3,"sources":["/Users/vsp/Desktop/Work/kfs-demo-web/src/senderView.js"],"names":["React","Component","Button","Form","Input","Message","Grid","TextArea","Radio","Dropdown","web3","axios","SenderView","props","handleDismiss","setState","visible","sendRequest","console","log","window","btoa","state","sender","receipent","mimeType","base64content","uploadedFile","mime","url1","toLowerCase","url","get","then","response","hashMessage","data","catch","error","private","authErrorMessage","errorMessage","checked","eth","getAccounts","accounts","err","mimes","mimeOptions","map","index","key","value","text","onSubmit","width","event","target","e","fontSize","files","errorMessageDismiss","submitButton"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, Input, Message, Grid , TextArea, Radio , Dropdown} from 'semantic-ui-react';\n// import logo from './logo.svg';\nimport './App.css';\nimport web3 from './ethereum/web3.js';\nimport axios from 'axios';\n\nclass SenderView extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      sender: '',\n      receipent:'',\n      private: '',\n      base64content: '',\n      authErrorMessage: '',\n      errorMessage: '',\n      checked:false,\n      mimeType:'',\n      uploadedFile:'',\n      hashMessage:'',\n      visible: false \n    }\n  }\n\n  componentDidMount(){\n    web3.eth.getAccounts().then((accounts, err) => {\n      this.setState({sender: accounts[0]});\n    \n    });\n  }\n\n  handleDismiss = () => {\n    this.setState({ visible: false });\n  }\n\n  sendRequest = () => {\n    // axios.get('//204.48.21.88:3000/create?mime=data:text/plain&content=base64,TWFuIGlzIGRpc3Rpbmd1aXNoZWQsIG5vdCBvbmx5IGJ5IGhpcyByZWFzb24sIGJ1dCBieSB0aGlzIHNpbmd1bGFyIHBhc3Npb24gZnJvbSBvdGhlciBhbmltYWxzLCB3aGljaCBpcyBhIGx1c3Qgb2YgdGhlIG1pbmQsIHRoYXQgYnkgYSBwZXJzZXZlcmFuY2Ugb2YgZGVsaWdodCBpbiB0aGUgY29udGludWVkIGFuZCBpbmRlZmF0aWdhYmxlIGdlbmVyYXRpb24gb2Yga25vd2xlZGdlLCBleGNlZWRzIHRoZSBzaG9ydCB2ZWhlbWVuY2Ugb2YgYW55IGNhcm5hbCBwbGVhc3VyZS4=\n    //&senderPub=MHg3MTExRmVBOGVEZUZhMTEzMTFGMDA2QkI1Y0UxQTA0Yzg4OTg2OEE4&reciPub=MHhjYTg0MzU2OWUzNDI3MTQ0Y2VhZDVlNGQ1OTk5YTNkMGNjZjkyYjhl')\n    // .then(function (response) {\n    //   console.log(response);\n    // })\n    // .catch(function (error) {\n    //   console.log(error);\n    // });\n    console.log(window.btoa(this.state.sender));\n    console.log(window.btoa(this.state.receipent));\n    console.log(this.state.mimeType);\n    console.log(this.state.base64content);\n    console.log(this.state.uploadedFile);\n    \n    if(this.state.mime !=='' && this.state.base64content!=='' && this.state.uploadedFile==='') {\n      const url1 = 'http://204.48.21.88:3000/create?mime='+this.state.mimeType+'&content=base64,'+this.state.base64content+'&senderPub='+window.btoa(this.state.sender.toLowerCase())+'&reciPub='+window.btoa(this.state.receipent.toLowerCase());\n      const url = 'http://204.48.21.88:3000/create?mime=data:text/plain&content=base64,aGVsbG8=&senderPub=MHg4YzA1OWUyMzg5MGFkNmUyYTQyM2ZiNTIzNTk1NmUxN2M3YzkyZDdm&reciPub=MHg0ODg3YmU5ZjUyZWZlNzdmMTU4MjEwNzU3NjE1M2RkMzMwNzE2ODlj';\n\n      console.log(url1);\n      axios.get(url1)\n      .then( response => {\n        console.log(response);\n        this.setState({hashMessage:response.data,visible:true})\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n\n    else {\n      console.log('coming');\n      axios.get('//204.48.21.88:3000/create?path='+this.state.uploadedFile+'&senderPub='\n      +window.btoa(this.state.sender.toLowerCase())+'&reciPub='+window.btoa(this.state.receipent.toLowerCase()))\n      .then(response => {\n        console.log(response);\n        this.setState({hashMessage:response.data,visible:true})\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  render() {\n    const mimes = ['text/plain','text/html','image/jpeg','image/png'];\n    const mimeOptions = mimes.map((mime,index) => {\n      return {\n        key : \"mime\"+index,\n        value : \"data:\"+mime,\n        text : mime\n      };\n    });\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n            <Grid>\n              <Grid.Row>\n                <Grid.Column width={16}>\n                  <Form onSubmit={this.onSubmit} error={!!this.state.errorMessage}>\n                  <Form.Field>\n                    <h4>Your address</h4>\n                    <Input disabled size=\"large\" style={{ width: \"100%\"}}\n                      value={this.state.sender}      \n                    />\n                  </Form.Field>\n                  <Form.Field>\n                    <h4>Enter Receipent's address</h4>\n                    <Input style={{ width: \"100%\" }} size=\"large\"\n                    value={this.state.receipent}\n                    onChange={event => this.setState({ receipent: event.target.value})}\n                    />\n                  </Form.Field>\n                  {/* <Form.Field>\n                    <h4>Enter Private key</h4>\n                    <Input style={{ width: \"100%\" }}\n                      value={this.state.private}\n                      onChange={event => this.setState({ private: event.target.value})}\n                    />\n                  </Form.Field> */}\n                  <Form.Field>\n                  <Radio toggle\n                    label={this.state.checked ? 'Would like to send a file' : 'Would like to send base64 content'}\n                    onClick={() => \n                      this.setState({checked: !this.state.checked})\n                    } \n                    checked={this.state.checked} />\n                  </Form.Field>             \n                {/* {this.state.checked ?  */}\n                    <Form.Field>\n                      <h4>Select content's mime here</h4>\n                      <Dropdown placeholder='Select Mime type' \n                      onChange={ (e,data) => this.setState({ mimeType : data.value}) }\n                      fluid search selection options={mimeOptions} />\n                      {/* <Input style={{ width: \"100%\" }}\n                        value={this.state.mime}\n                        onChange={event => this.setState({ mime: event.target.value})}\n                      /> */}\n                    </Form.Field>\n                    <Form.Field>\n                    <h4>Enter base64 content here</h4>\n                     <TextArea placeholder='Base64 content ' \n                        value={this.state.base64content}\n                        onChange={event => this.setState({ base64content: event.target.value})}\n                        />\n                    </Form.Field>\n                    \n                    \n                  \n\n                  <div className=\"upload-btn-wrapper\" style={{fontSize:''}}>\n                    <br/>\n                    <b>Upload a file</b>\n                      {/* <button className=\"btn-primary\">Upload */}\n                      <input type=\"file\" name=\"myfile\"  onChange={event => this.setState({uploadedFile : event.target.files[0]})}/>\n                      {/* </button> */}\n                  </div> \n                  { this.state.visible ? \n                    <Form.Field>\n                      <Message positive\n                      onDismiss={this.handleDismiss}>\n                      <Message.Header>Kfs File Id</Message.Header>\n                      <b>\n                      {this.state.hashMessage} \n                      </b>\n                    </Message>\n                    </Form.Field>\n                  : ''}\n                  <Message error header=\"Oops!\" hidden={true} onDismiss={this.errorMessageDismiss} content={this.state.errorMessage} />\n                  <br/><Button loading={this.state.submitButton}  onClick={this.sendRequest} primary>Submit</Button>\n                </Form>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default SenderView;\n"]},"metadata":{},"sourceType":"module"}